<meta charset="utf-8">
<script src="lib/d3.js"></script>
<script src="lib/raphael.min.js"></script>
<script src="lib/jquery.min.js"></script>
<script src="data/map.js"></script>
<script src="data/point.js"></script>
<script src="lib/chinamap.js"></script>

<script>
$(document).ready(function(){
    var ids = [36];
    var point = {36:6};
    for (var i=37; i<376; i++) {
        if (Math.random() > 0.8) {
            ids.push(i);
            point[i] = Math.random()*10;
        }
    }
    var map = $("#map").chinamap({}).area({}).point(point);

    $("#flash").click(function() {
        for (var i in ids) {
            if (Math.random() > 0.8) {
                map.flash(ids[i], true);
            }
        }
        setInterval(function() {
            for (var i in ids) {
                if (Math.random() < 0.05) {
                    map.line(36, ids[i]);
                }
            }
        }, 4000);
    });
});
</script>
<body style='background:#1b1b1b;'>
<div id="map" style="width:1200px;height:800px;"></div>
<a href="javascript:;" id="flash">flash</a>
</body>
