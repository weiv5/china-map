<meta charset="utf-8">
<script src="lib/d3.js"></script>
<script src="lib/raphael.min.js"></script>
<script src="lib/jquery.min.js"></script>
<script src="data/map.js"></script>
<script src="data/point.js"></script>
<script src="lib/chinamap.js"></script>

<script>
$(document).ready(function(){
    var point = {36:6};
    for (var i=37; i<376; i++) {
        if (Math.random() > 0.8) point[i] = Math.random()*10;
    }
    
    var data = {};
    for (var i in data_map.features) {
        data[data_map.features[i].id] = Math.random()*10;
    }

    var map = $("#map").chinamap({}).area({}).point(point);
    map.area(data);
    function line() {
        for (var i in point) {
            if (Math.random() > 0.8) {
                point[i] += 1;
                map.line(36, i);
            }
        }
        map.point(point);
        setTimeout(line, 3000);
    }
    line();
});
</script>
<body style='background:#1b1b1b;'>
<div id="map" style="width:1400px;height:1000px;border:1px solid #fff;"></div>
</body>
